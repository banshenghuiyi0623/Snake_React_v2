webpackJsonp([1],{0:function(t,e,n){n(161),t.exports=n(174)},56:function(t,e,n){"use strict";e.__esModule=!0;var r=n(2),o=n(145),a=n(42),i=n(83),c=n(173),s=n(182);e.store=s["default"]({}),e.history=i.syncHistoryWithStore(o.browserHistory,e.store),e.getStore=function(){return e.store};var u=r.createClass({render:function(){return r.createElement(a.Provider,{store:e.store},r.createElement(o.Router,{history:e.history},r.createElement(o.Route,{path:"/",component:c["default"]}),r.createElement(o.Route,{path:"/Snake_React_v2",component:c["default"]})))}});e["default"]=u},87:function(t,e,n){"use strict";e.__esModule=!0;var r=n(19);e.initSnack=r.createAction("init snake"),e.setSnack=r.createAction("set snake"),e.setFood=r.createAction("set food"),e.setSnackDirection=r.createAction("set snake direction"),e.setGameInit=r.createAction("set game init"),e.getCode=r.createAction("get code"),e.clearCode=r.createAction("clear code"),e.setModal=r.createAction("set modal"),e.startGame=r.createAction("start game"),e.endGame=r.createAction("end game"),e.pauseGame=r.createAction("pause game"),e.setVolume=r.createAction("set volume")},88:function(t,e){"use strict";e.__esModule=!0,e.getSize=function(t){return{column:t.size.get("column"),row:t.size.get("row")}}},89:function(t,e){"use strict";e.__esModule=!0,e.getModal=function(t){return t.game.get("modal")}},161:function(t,e){(function(e){!function(e){"use strict";function n(t,e,n,r){var a=e&&e.prototype instanceof o?e:o,i=Object.create(a.prototype),c=new m(r||[]);return i._invoke=u(t,n,c),i}function r(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}function o(){}function a(){}function i(){}function c(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function s(t){function n(e,o,a,i){var c=r(t[e],t,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==typeof u&&g.call(u,"__await")?Promise.resolve(u.__await).then(function(t){n("next",t,a,i)},function(t){n("throw",t,a,i)}):Promise.resolve(u).then(function(t){s.value=t,a(s)},i)}i(c.arg)}function o(t,e){function r(){return new Promise(function(r,o){n(t,e,r,o)})}return a=a?a.then(r,r):r()}"object"==typeof e.process&&e.process.domain&&(n=e.process.domain.bind(n));var a;this._invoke=o}function u(t,e,n){var o=k;return function(a,i){if(o===j)throw new Error("Generator is already running");if(o===N){if("throw"===a)throw i;return h()}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var s=l(c,n);if(s){if(s===P)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===k)throw o=N,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=j;var u=r(t,e,n);if("normal"===u.type){if(o=n.done?N:S,u.arg===P)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=N,n.method="throw",n.arg=u.arg)}}}function l(t,e){var n=t.iterator[e.method];if(n===y){if(e.delegate=null,"throw"===e.method){if(t.iterator["return"]&&(e.method="return",e.arg=y,l(t,e),"throw"===e.method))return P;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return P}var o=r(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,P;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=y),e.delegate=null,P):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,P)}function p(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function f(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function m(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(p,this),this.reset(!0)}function d(t){if(t){var e=t[w];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function o(){for(;++n<t.length;)if(g.call(t,n))return o.value=t[n],o.done=!1,o;return o.value=y,o.done=!0,o};return r.next=r}}return{next:h}}function h(){return{value:y,done:!0}}var y,v=Object.prototype,g=v.hasOwnProperty,_="function"==typeof Symbol?Symbol:{},w=_.iterator||"@@iterator",E=_.asyncIterator||"@@asyncIterator",b=_.toStringTag||"@@toStringTag",x="object"==typeof t,O=e.regeneratorRuntime;if(O)return void(x&&(t.exports=O));O=e.regeneratorRuntime=x?t.exports:{},O.wrap=n;var k="suspendedStart",S="suspendedYield",j="executing",N="completed",P={},M={};M[w]=function(){return this};var I=Object.getPrototypeOf,C=I&&I(I(d([])));C&&C!==v&&g.call(C,w)&&(M=C);var A=i.prototype=o.prototype=Object.create(M);a.prototype=A.constructor=i,i.constructor=a,i[b]=a.displayName="GeneratorFunction",O.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===a||"GeneratorFunction"===(e.displayName||e.name))},O.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,b in t||(t[b]="GeneratorFunction")),t.prototype=Object.create(A),t},O.awrap=function(t){return{__await:t}},c(s.prototype),s.prototype[E]=function(){return this},O.AsyncIterator=s,O.async=function(t,e,r,o){var a=new s(n(t,e,r,o));return O.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},c(A),A[b]="Generator",A[w]=function(){return this},A.toString=function(){return"[object Generator]"},O.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},O.values=d,m.prototype={constructor:m,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=y,this.done=!1,this.delegate=null,this.method="next",this.arg=y,this.tryEntries.forEach(f),!t)for(var e in this)"t"===e.charAt(0)&&g.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=y)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,r){return a.type="throw",a.arg=t,n.next=e,r&&(n.method="next",n.arg=y),!!r}if(this.done)throw t;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var i=g.call(o,"catchLoc"),c=g.call(o,"finallyLoc");if(i&&c){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&g.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,P):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),P},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),f(n),P}},"catch":function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;f(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:d(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=y),P}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(e,function(){return this}())},163:function(t,e,n){"use strict";e.__esModule=!0;var r=n(19);e.resetSize=r.createAction("reset size")},164:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},a=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var c=n(2),s=n(24),u=n(42),l=n(172),p=n(167),f=n(163),m=n(87);n(194);var d=function(t){function e(e){var n=t.call(this,e)||this;n.timer=null,n.foodTimer=null,n.startTimer=null,n.handleResize=function(){var t=document.getElementById("left").clientHeight,e=document.getElementById("left").clientWidth,r=Math.floor((e-15)/16)+1,o=Math.floor((t-15)/16)+2;n.setState({start:[{x:o-1,y:0,de:0,pm:1,index:1}]}),n.props.actions.resetSize({column:o,row:r}),setTimeout(function(){n.props.actions.setFood(),n.props.actions.initSnack()},0)},n.getSnakePosition=function(t){var e=t.x,n=t.y;return{transform:"translate("+16*n+"px, "+16*e+"px)"}},n.startGame=function(){n.timer&&clearInterval(n.timer),n.foodTimer&&clearInterval(n.foodTimer),n.timer=setInterval(n.goNext,500),n.foodTimer=setInterval(n.setFoodShowOrHide,200)},n.dead=function(){n.props.actions.endGame(),n.props.actions.setGameInit(-1),n.props.actions.initSnack(),n.startTimer=setInterval(n.renderInit,10)},n.goNext=function(){var t=n.props,e=t.snake,r=t.direction,o=t.food,a=e.toJS(),i=o.toJS(),c=n.getNext(a[0],r.get("snake"));return n.isDead(c)?(n.dead(),clearInterval(n.timer),void clearInterval(n.foodTimer)):(a.unshift(c),c.x!==i.x||c.y!==i.y?a.pop():(n.props.actions.getCode(),n.props.actions.setFood()),void n.props.actions.setSnack(a))},n.getNext=function(t,e){var r=n.props,o=r.size,a=r.game,i=o.get("column"),c=o.get("row"),s=t.x+l.deX[e],u=t.y+l.deY[e];return 1===a.get("modal")?{x:s,y:u}:(s>=i&&(s=0),u>=c&&(u=0),s<0&&(s=i-1),u<0&&(u=c-1),{x:s,y:u})},n.setFoodShowOrHide=function(){n.setState({showFood:!n.state.showFood})},n.getNewStartXY=function(t){var e=n.props.size,r=e.get("column"),o=e.get("row"),a={},i=t.x,c=t.y,s=t.de,u=t.pm,l=t.index;return a.x=1===s?i+u:i,a.y=0===s?c+u:c,a.de=s,a.pm=u,a.index=l,a.x===r-l-1&&a.y===l-1&&a.x!==Math.floor(r/2)&&a.y!==Math.floor(o/2)&&(a.index+=1),0===s&&(a.y===o-a.index||a.y===a.index-1&&a.x===l-1)&&(a.de=1),1!==s||a.x!==r-a.index&&a.x!==a.index-1||(a.de=0),a.y===o-a.index&&a.x===r-a.index&&(a.pm=-1),a.y===a.index-1&&a.x===a.index-1&&(a.pm=1),n.isInSnake({x:a.x,y:a.y})&&n.props.game.get("init")===-1&&(n.props.actions.setGameInit(0),n.startTimer&&clearInterval(n.startTimer)),a},n.renderInit=function(){var t=n.state.start,e=t.length,r=n.getNewStartXY(t[e-1]);t.push(r),n.setState({start:t})},n.resetStart=function(){var t=n.props.size.get("column");1===n.props.game.get("modal")?n.setState({start:[{x:t-1,y:1,de:0,pm:1,index:2}]}):n.setState({start:[{x:t-1,y:0,de:0,pm:1,index:1}]}),n.forceUpdate()};var r=e.size.get("column");return n.state={showFood:!0,start:[{x:r-1,y:0,de:0,pm:1,index:1}]},n}return r(e,t),e.prototype.isDead=function(t){var e=t.x,n=t.y,r=this.props,o=r.game,a=r.size,i=a.get("column"),c=a.get("row");if(1===o.get("modal")&&(0===e||0===n||e===i||n===c))return!0;var s=this.props.snake.toJS();return 0!==s.filter(function(t){return t.x===e&&t.y===n}).length},e.prototype.isInSnake=function(t){var e=t.x,n=t.y;return 0!==this.state.start.filter(function(t){return t.x===e&&t.y===n}).length},e.prototype.componentDidMount=function(){this.handleResize(),window.addEventListener("resize",this.handleResize),this.startTimer=setInterval(this.renderInit,10)},e.prototype.componentWillReceiveProps=function(t){t.game.get("start")&&!this.props.game.get("start")&&this.startGame(),1===t.game.get("init")&&t.game.get("init")!==this.props.game.get("init")&&this.resetStart(),!t.game.get("start")&&this.props.game.get("start")&&(clearInterval(this.timer),clearInterval(this.foodTimer)),t.game.get("pause")&&!this.props.game.get("pause")&&(clearInterval(this.timer),clearInterval(this.foodTimer)),!t.game.get("pause")&&this.props.game.get("pause")&&this.startGame(),t.game.get("init")===-1&&this.props.game.get("init")!==-1&&(this.startTimer&&clearInterval(this.startTimer),this.startTimer=setInterval(this.renderInit,10))},e.prototype.componentWillUnmount=function(){clearInterval(this.timer),clearInterval(this.foodTimer),clearInterval(this.startTimer)},e.prototype.render=function(){var t=this,e=this.props,n=e.size,r=e.snake,o=e.food,a=e.game,i=this.state,s=i.showFood,u=i.start,l=a.get("init"),f=a.get("modal"),m=n.get("column"),d=n.get("row");return c.createElement("div",{className:"left",id:"left"},(0===l||l===-2)&&c.createElement(p["default"],null),[].fill.call(new Array(m),0).map(function(t,e){return[].fill.call(new Array(d),0).map(function(t,n){return 1!==f||0!==e&&0!==n&&e!==m-1&&n!==d-1?c.createElement("div",{className:"cell",key:e*d+n}):c.createElement("div",{className:"cell full-cell",key:e*d+n})})}),1===l&&r.map(function(e,n){return c.createElement("div",{key:n,style:t.getSnakePosition(e.toJS()),className:"cell snake-cell"})}),1===l&&c.createElement("div",{style:this.getSnakePosition(o.toJS()),className:"cell "+(s?"food-o-cell":"food-cell")}),l===-1&&u.map(function(e,n){return c.createElement("div",{key:n,style:t.getSnakePosition(e),className:"cell snake-cell"})}))},e=a([u.connect(function(t){return{size:t.size,snake:t.snake.get("snake"),food:t.food.get("food"),direction:t.direction,game:t.game}},function(t){return{actions:s.bindActionCreators(o({},f,m),t)}}),i("design:paramtypes",[Object])],e)}(c.Component);e["default"]=d},165:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();e.__esModule=!0;var o=n(2);n(195);var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){return o.createElement("div",{className:"header"},o.createElement("div",{className:"left"},o.createElement("span",null),o.createElement("div",{className:"cell"}),o.createElement("div",{className:"cell"})),o.createElement("span",null,"SNAKE"),o.createElement("div",{className:"right"},o.createElement("div",{className:"top"},o.createElement("div",{className:"cell"}),o.createElement("div",{className:"cell"}),o.createElement("div",{className:"cell"})),o.createElement("div",{className:"bottom"},o.createElement("div",{className:"cell"}),o.createElement("div",{className:"cell"})),o.createElement("span",null)))},e}(o.Component);e["default"]=a},166:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();e.__esModule=!0;var o=n(2),a=n(135);n(196);var i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleClick=function(t){e.props.handleKeyDown(t)},e}return r(e,t),e.prototype.render=function(){return o.createElement("div",{className:"keyboard"},o.createElement("div",{className:"left"},o.createElement("div",{className:"top"},o.createElement("ul",null,o.createElement("li",null,o.createElement("button",{onClick:this.handleClick.bind(null,1)}),o.createElement(a,{name:"volume-off"})),o.createElement("li",null,o.createElement("button",{onClick:this.handleClick.bind(null,3)}),o.createElement(a,{name:"cog"})),o.createElement("li",null,o.createElement("button",{onClick:this.handleClick.bind(null,4)}),o.createElement(a,{name:"pause"})),o.createElement("li",null,o.createElement("button",{onClick:this.handleClick.bind(null,0)}),o.createElement(a,{name:"undo"})))),o.createElement("div",{className:"bottom"},o.createElement("ul",null,o.createElement("li",null,o.createElement("button",{onClick:this.handleClick.bind(null,2)}),o.createElement(a,{name:"play"}))))),o.createElement("div",{className:"right"},o.createElement("div",{className:"direction"},o.createElement("div",{className:"top"},o.createElement("button",{onClick:this.handleClick.bind(null,38)},o.createElement(a,{name:"angle-double-up"}))),o.createElement("div",{className:"center"},o.createElement("button",{onClick:this.handleClick.bind(null,37)},o.createElement(a,{name:"angle-double-left"})),o.createElement("div",{className:"icon"},o.createElement("div",{className:"top"},o.createElement(a,{name:"caret-up"})),o.createElement("div",{className:"center"},o.createElement(a,{name:"caret-left"}),o.createElement(a,{name:"caret-right"})),o.createElement("div",{className:"bottom"},o.createElement(a,{name:"caret-down"}))),o.createElement("button",{onClick:this.handleClick.bind(null,39)},o.createElement(a,{name:"angle-double-right"}))),o.createElement("div",{className:"bottom"},o.createElement("button",{onClick:this.handleClick.bind(null,40)},o.createElement(a,{name:"angle-double-down"}))))))},e}(o.Component);e["default"]=i},167:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();e.__esModule=!0;var o=n(2);n(197);var a=function(t){function e(){var e=t.call(this)||this;return e.timeout=null,e.animate=function(){clearTimeout(e.timeout),e.setState({style:"r1",display:"none"});var t="r",n=0,r=function(t,n){t&&(e.timeout=setTimeout(t,n))},o=function(t){r(function(){e.setState({display:"block"}),t&&t()},150)},a=function(t){r(function(){e.setState({display:"none"}),t&&t()},150)},i=function(n,o,a){r(function(){e.setState({style:t+2}),r(function(){e.setState({style:t+1}),n&&n()},a)},o)},c=function(o){r(function(){e.setState({style:t+4}),r(function(){return e.setState({style:t+3}),n++,10!==n&&20!==n&&30!==n||(t="r"===t?"l":"r"),n<40?void c(o):(e.setState({style:t+1}),void(o&&r(o,4e3)))},100)},100)},s=function(){n=0,i(function(){i(function(){i(function(){e.setState({style:t+2}),c(s)},150,150)},150,150)},1e3,1500)};o(function(){a(function(){o(function(){a(function(){o(function(){s()})})})})})},e.state={style:"r1",display:"none"},e}return r(e,t),e.prototype.componentWillMount=function(){this.animate()},e.prototype.componentWillUnmount=function(){clearTimeout(this.timeout)},e.prototype.render=function(){return o.createElement("div",{className:"logo",style:{display:this.state.display}},o.createElement("div",{className:"bg dragon "+this.state.style}),o.createElement("p",null,"贪吃蛇"))},e}(o.Component);e["default"]=a},168:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();e.__esModule=!0;var o=n(2);n(198);var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.shouldComponentUpdate=function(t){var e=t.data;return e!==this.props.data},e.prototype.render=function(){return o.createElement("div",{className:"bg music "+(this.props.data?"c":"")+" "})},e}(o.Component);e["default"]=a},169:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();e.__esModule=!0;var o=n(2);n(199);var a=function(t){return t<10?("0"+t).split(""):(""+t).split("")},i=function(t){function e(){var e=t.call(this)||this;return e.timeInterval=null,e.time_count=null,e.state={time_count:!1,time:new Date},e}return r(e,t),e.prototype.componentWillMount=function(){var t=this;if(this.props.time){var e=function(){var n=+t.timeInterval;t.timeInterval=setTimeout(function(){t.setState({time:new Date,time_count:n}),e()},1e3)};e()}},e.prototype.shouldComponentUpdate=function(t){var e=t.number;return this.props.time?this.state.time_count!==this.time_count&&(this.state.time_count!==!1&&(this.time_count=this.state.time_count),!0):this.props.number!==e},e.prototype.componentWillUnmount=function(){this.props.time&&clearTimeout(this.timeInterval)},e.prototype.render=function(){if(this.props.time){var t=this.state.time,e=a(t.getHours()),n=a(t.getMinutes()),r=t.getSeconds()%2,i=e.concat(r?"d":"d_c",n);return o.createElement("div",{className:"number"},i.map(function(t,e){return o.createElement("span",{className:"bg s_"+t,key:e})}))}for(var c=(""+this.props.number).split(""),s=this.props.length?this.props.length:6,u=0,l=s-c.length;u<l;u++)c.unshift("n");return o.createElement("div",{className:"number"},c.map(function(t,e){return o.createElement("span",{className:"bg s_"+t,key:e})}))},e}(o.Component);e["default"]=i},170:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();e.__esModule=!0;var o=n(2);n(200);var a=function(t){function e(){var e=t.call(this)||this;return e.timeout=null,e.state={showPause:!1},e}return r(e,t),e.prototype.componentDidMount=function(){this.setShake(this.props.data)},e.prototype.componentWillReceiveProps=function(t){var e=t.data;this.setShake(e)},e.prototype.shouldComponentUpdate=function(t){var e=t.data;return!!e||e!==this.props.data},e.prototype.setShake=function(t){var e=this;t&&!this.timeout&&(this.timeout=setInterval(function(){e.setState({showPause:!e.state.showPause})},250)),!t&&this.timeout&&(clearInterval(this.timeout),this.setState({showPause:!1}),this.timeout=null)},e.prototype.render=function(){return o.createElement("div",{className:"bg pause "+(this.state.showPause?"c":"")})},e}(o.Component);e["default"]=a},171:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i};e.__esModule=!0;var a=n(2),i=n(24),c=n(42),s=n(169),u=n(168),l=n(170),p=n(394),f=n(393),m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){var t=this.props.game;return a.createElement("div",{className:"right"},a.createElement("div",{className:"record"},a.createElement("label",null,"分数："),a.createElement(s["default"],{number:t.get("code")}),a.createElement("img",{src:p})),a.createElement("div",{className:"level"},a.createElement("label",null,"模式"),a.createElement(s["default"],{number:t.get("modal")})),a.createElement("div",{className:"set"},a.createElement(u["default"],{data:!t.get("volume")}),a.createElement(l["default"],{data:t.get("pause")})),a.createElement("div",{className:"time"},a.createElement("img",{src:f}),a.createElement(s["default"],{time:!0})))},e=o([c.connect(function(t){return{game:t.game}},function(t){return{actions:i.bindActionCreators({},t)}})],e)}(a.Component);e["default"]=m},172:function(t,e){"use strict";e.__esModule=!0,e.ExceptHeight=500,e.deX=[-1,1,0,0],e.deY=[0,0,-1,1]},173:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},a=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};e.__esModule=!0;var c=n(2),s=n(24),u=n(42),l=n(165),p=n(166),f=n(171),m=n(164),d=n(87);n(201);var h=function(t){function e(e){var n=t.call(this,e)||this;return n.handling=!1,n.handleKeyDown=function(t){if(!n.handling){n.handling=!0;var e=n.props.game.get("init");if(1===t)n.props.actions.setVolume();else if(0===e)2===t||0===t?(n.props.actions.setGameInit(1),n.props.actions.clearCode(),n.props.actions.startGame()):3===t&&n.props.actions.setGameInit(-2);else if(1===e){var r=n.props.direction.get("snake");38===t&&1!==r?r=0:40===t&&0!==r?r=1:37===t&&3!==r?r=2:39===t&&2!==r?r=3:32===t?n.props.actions.pauseGame():4===t?n.props.actions.pauseGame({pause:!0}):2===t?(n.props.actions.pauseGame({pause:!1}),n.props.actions.startGame()):0!==t||n.props.game.get("pause")||(n.props.actions.endGame(),n.props.actions.setGameInit(-1),n.props.actions.initSnack(),setTimeout(n.handleKeyDown.bind(null,2),0)),n.props.actions.setSnackDirection(r)}else e===-2?37===t||39===t?n.props.actions.setModal():2===t&&(n.props.actions.setGameInit(1),n.props.actions.startGame()):e===-1&&2===t&&setTimeout(n.handleKeyDown.bind(null,2),0);setTimeout(n.resetHandle,250)}},n.resetHandle=function(){n.handling=!1},n.keyDown=function(t){var e=t.nativeEvent.keyCode;n.handleKeyDown(e)},n}return r(e,t),e.prototype.render=function(){return c.createElement("div",{className:"app",onKeyDown:this.keyDown,tabIndex:0},c.createElement("div",{className:"layout"},c.createElement("div",{className:"layout-top"},c.createElement(l["default"],null),c.createElement("div",{className:"content"},c.createElement("div",{className:"main"},c.createElement("div",{className:"screen"},c.createElement(m["default"],null),c.createElement(f["default"],null))))),c.createElement(p["default"],{handleKeyDown:this.handleKeyDown})))},e=a([u.connect(function(t){return{direction:t.direction,game:t.game}},function(t){return{actions:s.bindActionCreators(o({},d),t)}}),i("design:paramtypes",[Object])],e)}(c.Component);e["default"]=h},174:function(t,e,n){"use strict";e.__esModule=!0,n(161);var r=n(2),o=n(47),a=n(56),i=n(330);n(202);var c=document.getElementById("root");o.render(r.createElement(i.AppContainer,null,r.createElement(a["default"],null)),c)},175:function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t){return function(t){return function(e){return console.log(e),t(e)}}}},176:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();e.__esModule=!0;var o=n(19),a=n(26),i=a.Record({snake:3}),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(i);e.IDirection=c;var s=new c;e["default"]=o.handleActions({"set snake direction":function(t,e){return t.set("snake",e.payload)},"init snake":function(t){return t.set("snake",3)}},s)},177:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();e.__esModule=!0;var o=n(19),a=n(26),i=n(56),c=n(88),s=n(89),u=0,l=0,p=1;setTimeout(function(){var t=c.getSize(i.getStore().getState());u=t.column,l=t.row,p=s.getModal(i.getStore().getState())});var f=a.Record({food:a.fromJS({x:0,y:0})}),m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(f);e.IFood=m;var d=new m;e["default"]=o.handleActions({"set food":function(t){void 0===t&&(t=d);var e=s.getModal(i.getStore().getState()),n=1===e?3:1,r=Math.floor(Math.random()*(u-n))+1,o=Math.floor(Math.random()*(l-n))+1,c={x:r,y:o};return t.set("food",a.fromJS(c))}},d)},178:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();e.__esModule=!0;var o=n(19),a=n(26),i=a.Record({init:-1,code:0,modal:0,start:!1,pause:!1,volume:!0}),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(i);e.IGame=c;var s=new c;e["default"]=o.handleActions({"set game init":function(t,e){return t.set("init",e.payload)},"get code":function(t){return t.set("code",t.get("code")+1)},"clear code":function(t){return t.set("code",0)},"set modal":function(t,e){var n=t.get("modal");return t.set("modal",n?0:1)},"start game":function(t){return t.set("start",!0)},"end game":function(t){return t.set("start",!1)},"pause game":function(t,e){return t.set("pause",e.payload?e.payload.pause:!t.get("pause"))},"set volume":function(t){return t.set("volume",!t.get("volume"))}},s)},179:function(t,e,n){"use strict";e.__esModule=!0;var r=n(83),o=n(24),a=n(180),i=n(181),c=n(176),s=n(177),u=n(178),l=o.combineReducers({routing:r.routerReducer,size:a["default"],snake:i["default"],direction:c["default"],food:s["default"],game:u["default"]});e["default"]=l},180:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();e.__esModule=!0;var o=n(19),a=n(26),i=a.Record({column:0,row:0}),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(i);e.ISize=c;var s=new c;e["default"]=o.handleActions({"reset size":function(t,e){var n=e.payload,r=n.column,o=n.row;return a.fromJS({column:r,row:o})}},s)},181:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{
__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();e.__esModule=!0;var o=n(19),a=n(26),i=n(56),c=n(88),s=n(89),u=0,l=0,p=1;setTimeout(function(){var t=c.getSize(i.getStore().getState());u=t.column,l=t.row,p=s.getModal(i.getStore().getState())});var f=1===p?3:1,m=Math.floor(Math.random()*(u-f))+1,d=Math.floor(Math.random()*(l-f))+1,h=a.Record({snake:a.fromJS([{x:m,y:d},{x:m,y:d}])}),y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(h);e.ISnake=y;var v=new y;e["default"]=o.handleActions({"init snake":function(t){void 0===t&&(t=v);var e=s.getModal(i.getStore().getState()),n=1===e?3:1,r=Math.floor(Math.random()*(u-n))+1,o=Math.floor(Math.random()*(l-n))+1;return 0===o?t:t.set("snake",a.fromJS([{x:r,y:o},{x:r,y:o-1}]))},"set snake":function(t,e){return void 0===t&&(t=v),t.set("snake",a.fromJS(e.payload))}},v)},182:function(t,e,n){"use strict";function r(t){var e=window.devToolsExtension?window.devToolsExtension()(o.createStore):o.createStore,n=o.applyMiddleware(i["default"])(e),r=n(a["default"],t);return r}e.__esModule=!0;var o=n(24),a=n(179),i=n(175);e["default"]=r},194:function(t,e){},195:function(t,e){},196:function(t,e){},197:function(t,e){},198:function(t,e){},199:function(t,e){},200:function(t,e){},201:function(t,e){},202:function(t,e){},330:function(t,e,n){t.exports=n(333)},331:function(t,e,n){"use strict";t.exports=n(332)},332:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(2),s=c.Component,u=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),i(e,[{key:"render",value:function(){return this.props.component?c.createElement(this.props.component,this.props.props):c.Children.only(this.props.children)}}]),e}(s);t.exports=u},333:function(t,e,n){"use strict";t.exports=n(334)},334:function(t,e,n){"use strict";t.exports.AppContainer=n(331)},393:function(t,e,n){t.exports=n.p+"images/robot-1xuxV.png"},394:function(t,e,n){t.exports=n.p+"images/snack-i-0Ey.png"}});